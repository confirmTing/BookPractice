<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
    </head>
    <body>
    </body>
    <script type="text/javascript">
    	var cost = (function(){
    		var arr = [];
    		return function(){
    			if (arguments.length==0) {
    				var price = 0;
    				for (var k in arr) {
    					price+=arr[k]
    				}
    				return price
    			}
    			arg = [].slice.call(arguments);
    			// console.log(arg,arguments)
    			arr=arr.concat(arg)
    			// [].push.apply(arr,arguments)
    		}
    	})()

    	cost(100)
    	cost(100)
    	cost(100)
    	console.log(cost());

    	var currying = function(fn){
    		var args = [];
    		return function(){
    			if(arguments.length===0){
    				return fn(args)
    			}
    			[].push.apply(args,arguments);
    		}
    	}

    	// var cost2 = (function(){
    	// 	var money = 0;
    	// 	return function(){
    	// 		for(var i = 0;i<arguments.length;i++){
	    // 			money+=arguments[i]
	    // 		}
	    // 		return money;
    	// 	}
    	// })()

   //  	var cost2 = function(){
   //  		var money = 0;
			// for(var i = 0;i<arguments.length;i++){
   //  			money+=arguments[i]
   //  		}
   //  		return money;
   //  	}
   		var cost2 = function(args){
   			console.log(args)
    		var money = 0;
			for(var i = 0;i<args.length;i++){
    			money+=args[i]
    		}
    		return money;
    	}

    	// cost2.apply(null,[1,2,3,4,5]) apply实际上传参数是将arguments 数组分解开传递的
    	console.log(Function.prototype.apply.toString())
    	var cost2 = currying(cost2);
    	cost2(100)
    	cost2(100)
    	cost2(100)
    	console.log(cost2())

    </script>
</html>