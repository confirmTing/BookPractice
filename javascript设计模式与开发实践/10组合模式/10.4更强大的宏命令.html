<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
    </head>
    <body>
    <button id="btn">宏命令</button>
    </body>
    <script>
    	var MacroCommand = function(){
    		return {
    			commandList:[],
    			add:function(command){
    				this.commandList.push(command)
    			},
    			execute:function(){
    				for(var i =0,command;command=this.commandList[i++];){
    					command.execute();
    				}
    			}
    		}
    	}

    	var openAcCommand = {
    		execute:function(){
    			console.log("打开空调")
    		}
    	}

    	var openTvCommand = {
    		execute:function(){
    			console.log("打开电视")
    		}
    	}

    	var openSoundCommand = {
    		execute:function(){
    			console.log("打开音响")
    		}
    	}

    	var TvAndSound = MacroCommand();
    	TvAndSound.add(openTvCommand);
    	TvAndSound.add(openSoundCommand);

    	var closeDoorCommand = {
    		execute:function(){
    			console.log("关门")
    		}
    	}
    	var openPcCommand = {
    		execute:function(){
    			console.log("打开电脑")
    		}
    	}
    	var openQQCommand = {
    		execute:function(){
    			console.log("打开秋秋")
    		}
    	}

    	var custom = MacroCommand();
    	custom.add(closeDoorCommand)
    	custom.add(openPcCommand)
    	custom.add(openQQCommand)

    	var macroCommand = MacroCommand()
    	macroCommand.add(openAcCommand)
    	macroCommand.add(TvAndSound)
    	macroCommand.add(custom)

		document.getElementById("btn").onclick=function(){
			macroCommand.execute();
		}
    </script>
</html>