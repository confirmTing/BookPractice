<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
    </head>
    <body>
    </body>
    <script type="text/javascript">
    	var $={};
    	$.each = function(obj,callback){
    		var value,i=0,l=obj.length,isArray = isArraylike(obj);
    		if(isArray){
    			for(;i<l;i++){
    				value = callback.call(obj[i],i,obj[i]);
    				if(value===false){
    					break;
    				}
    			}
    		}else{
    			for(i in obj){
    				value = callback.call(obj[i],i,obj[i])
    				if(value === false){
    					break;
    				}
    			}
    		}
    	}

    	$.each([1,2,3,4],function(i,el){
    		console.log(el)
    		if(el===2){
    			return false;
    		}
    	})

    	$.each({a:1,b:2,c:3,d:4},function(i,el){
    		console.log(el,i)
    		if(el===2){
    			return false;
    		}
    	})

    	function isArraylike( obj ) {
    	    var length = obj.length,
    	        type = typeof obj;
    	    if ( obj != null && obj == obj.window) {
    	        return false;
    	    }
    	 
    	    if ( obj.nodeType === 1 && length ) {
    	        return true;
    	    }
    	 
    	    return type === "array" || type !== "function" && ( length === 0 || typeof length === "number" && length > 0 && ( length - 1 ) in obj );
    	}

    </script>
</html>