<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
    </head>
    <body>
    </body>
    <script type="text/javascript">
    	var tree = {};
    	tree.decorate = function(){
    		console.log("default decorate");
    	}

    	tree.getDecorate = function(dec){
    		console.log(this)
    		tree[dec].prototype = this;
    		return new tree[dec]();
    	}
    	tree.RedBalls = function(){
    		this.decorate = function(){
    			// console.log(this.BlueBalls.prototype)
    			this.RedBalls.prototype.decorate();
    			console.log("RedBalls")
    		}
    	}

    	tree.BlueBalls = function(){
    		this.decorate = function(){
    			// console.log(this.BlueBalls.prototype)
    			this.BlueBalls.prototype.decorate();
    			console.log("BlueBalls")
    		}
    	}
    	tree = tree.getDecorate("RedBalls");
    	tree = tree.getDecorate("BlueBalls");
    	tree.decorate();
    </script>
</html>